# Paylocity Coding Challenge: Problem 2 of 2

<div style="font-size: 1.5em; padding-bottom: 0;">

Eric Milgram, PhD

</div>

<table>
<tbody>
<tr>
<td style="padding: 0; display: none;">
<a href="https://github.com/ScientificProgrammer/PaylocityCodingChallenge">ScientificProgrammer/PaylocityCodingChallenge</a>
</td>
</tr>
<tr>
<td style="padding: 0;">
Created: December 21, 2021
</td>
</tr>
<tr>
<td style="padding: 0;">
Last Updated: 2022-01-19 05:54:08</span>
</td>
</tr>
</tbody>
</table>

## SQL Exercise - Live Walkthrough

[Figure 1](#fig-container-erd-company-employee-position), which is shown
below, illustrates an *entity relationship diagram* (ERD) for a logical
data model consisting of three tables named *Company*, *Employee*, and
*Position*. The ERD represented in **Figure 1** also contains the
following informational elements, which are important for constructing a
physical data model.

1.  *Field names* for each table

2.  *Data types* for each field

3.  *Field constraints*, including *primary keys* and *foreign keys*

4.  *Foreign key relationships* between *tables*, including
    *directionality*,  
    *cardinality*, and *optionality*

<div id="fig-container-erd-company-employee-position"
style="margin: 2em auto 2em auto; padding: 2em; border: solid thin black; border-radius: 2em; box-shadow: 3px 3px 5px black;">

![**FIGURE 1:** Sample ERD for logical data model for a company/employee
relational
database](./../../img/fig_company_db_schema_939x151.png "Entity Relationship Diagram for a Company/Employee Logical Data Model")

</div>

### For the data model illustrated in **Figure 1**, please complete the following actions.

1.  Write a SQL query to generate a result set for a report that
    contains the  
    average salary for all employees.

2.  Update the previous query to generate a result set showing the
    average  
    salary for all employees within each company.

3.  Let's assume your previous query was long running. Please describe
    the  
    process you would use to find the root causes of the query's
    sluggishness?

<div style="height: 10em;">

</div>
